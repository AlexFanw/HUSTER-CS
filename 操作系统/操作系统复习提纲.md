![image-20200105211113801](/Users/alexfan/Library/Application Support/typora-user-images/image-20200105211113801.png)



![image-20200105211141109](/Users/alexfan/Library/Application Support/typora-user-images/image-20200105211141109.png)



## 第三章 操作系统的用户接口

**1. 用户工作环境(系统安装、引导)**

	将操作系统的必要部分装入主存并对系统进行初始化工作，最终使系统处于命令接收状态。
	一.现场独立引导方式(滚雪球方式,bootup)
	OS核心文件存储在系统本身的存储设备中,由系统自己将OS核心程序读入主存并运行,建立操作系统.
	a.初始引导(系统加电)-引导程序执行-核心初始化-系统初始化
	二.辅助下装方式(download)
	OS主要文件不放在系统本身的存储设备中，在系统启动后 执行下装操作，从另外的计算机系统中将操作系统常驻部 分传送到该计算机中，使它形成一个操作环境。 适用于多计算机系统、由主控机与前端机构成的系统以及分布式系统。

**2. 处理应用程序的步骤（编辑、编译、连接、运行）以及连接类型**

	- 编辑:建立一个新文件,或对已有的文件中的错误进行修改
	- 编译:将源程序翻译成浮动的目标代码
	- 连接:主程序和其他所需要的子程序和例行程序连接装配在一起,使之成为一个可执行、完整的主存映像文件.
	- 运行:将主存映像文件掉入主存,启动运行,得出计算结果
	!!!连接类型:1.静态连接:一个源程序经编译后，生成一个可重定位的目标模块，并产生内部符号表和外部符号表，供连接程序 (Link)使用。(内部符号表:本模块可以被其他程序调用的入口点)(外部调用表:本模块要调用的外部的程序模块名)(连接需要做的工作:连接模块为整体,构造全程符号表,查找外部调用表)(缺点:形成多个应用程序的目标文件中都会包含这个外部函数对应的代码)
					2.动态连接:在应用程序中需要调用外部函数的地方作记录，并说明要使用的外部函数名和引用入口号。
**3. 操作系统提供哪两个接口（操作命令、系统功能调用）**

	操作命令:作业控制语言、键盘命令、图形界面.(用户使用操作界面来组织工作流程和控制程序运行)
	系统功能调用:用户程序运行时,使用系统功能调用来请求操作系统的服务.
**4. 举例说明实际操作系统的用户界面**

	MSDOS:键盘命令、系统功能调用
	Windows系统:图形用户界面、系统功能调用
	unix系统:键盘命令、系统功能调用
**5. 系统调用的定义及实现过程，与库函数的区别（访管中断）**

	系统调用:操作系统提供实现各种功能的例行子程序,其中的每一个功能对应访管指令的一个功能号.是用户在程序一级请求操作系统服务的一种手段.由软件方法实现.
	如何调用? 采用统一进管方式,系统提供访管指令(自愿进管指令)、访管中断(执行访管指令时的中断).
	实现:用户程序-访管中断程序-例行子程序入口地址表-例行子程序-恢复现场
	与库函数区别:库函数的目的是隐藏访管指令细节，使系统调用更象过程调用，但一般地说，库函数属于用户程序而非系统程序.
**6. 图形用户界面**

	一.菜单驱动方式 二.图符驱动方式
	特点:所有程序以统一的窗口形式出现,提供统一菜单格式,系统资源、系统命令、操作功能以图标表示,统一的操作方法

**7. Linux系统调用实现**

	由两部分组成:一.核心函数:实现系统调用功能的内核代码.二.接口函数:提供给应用程序的API,以库函数形式存在Linux的lib.a中

---

> 前三章并不是考试重点内容.看看就好.

## 第四章 进程及进程管理

**1. 程序的顺序执行的定义及特点 &程序的并发执行的定义及特点**

	顺序执行:若干操作严格先后次序顺序执行.特点:顺序性、封闭性、可再现性
	并发执行:若干程序段同时在系统中执行.特点:无封闭性可再现性、程序与计算不再一一对应、程序并发执行相互制约

**2. 与时间有关的错误**

	程序并发执行时，若共享了公共变量，其执行结果与各并发程序的相对速度有关，即给定相同的初始条件，若不加以控 制，也可能得到不同的结果，此为与时间有关的错误。
**3. 进程定义，进程与程序的区别 **

	定义:所谓进程，就是一个程序在给定活动空间和初始环境下， 在一个处理机上的执行过程。
	区别:1.程序是静态的概念，进程是动态的概念; 2 进程是一个独立运行的活动单位;3 进程是竞争系统资源的基本单位;4 一个程序可以对应多个进程，一个进程至少包含一个程序。
**4. 进程状态的三个基本状态，进程状态变迁图（运行、就绪、等待）**

	运行:该进程已获得运行所必需的资源，它的程序正在处理机上执行。
	等待:进程正等待着某一事件的发生而暂时停止执行。这时， 即使给它CPU控制权，它也无法执行。
	就绪:进程已获得除CPU之外的运行所必需的资源，一旦得到 CPU控制权，立即可以运行。
**5. 进程的组成、进程控制块定义及作用 **

	进程组成:程序与数据、PCB(进程控制块)
	进程控制块:包含进程标识符、进程当前状态、当前队列指针next、进程优先级、CPU现场保护区、通信信息、家族联系、占有资源清单.
**6. 基本进程控制原语（创建原语、撤消原语、等待原语、唤醒原语）**

	创建原语:创建一个具有指定标识符的进程，建立进程的PCB结构。
	撤销原语:撤消当前运行的进程。将该进程的PCB结构归还到PCB资源池,所占用的资源归还给父进程，从总链队列中摘除它，然后转进程调度程序。
	等待原语:中止调用进程的执行，并加入到等待chan的等待队列中; 最后使控制转向进程调度。
	唤醒原语:当进程等待的事件发生时，唤醒等待该事件的进程。
**7. 信号灯的定义，P、V操作原语的功能**

	定义:信号灯是一个确定的二元组 (s，q)，s是一个具有非负初值 的整型变量，q是一个初始状态为空的队列。操作系统利用信号灯的状态对并发进程和共享资源进行控制和管理。
	P:取信号灯值减1，若相减结果为负，则调用p(s)的进程被阻，并插入到该信号灯的等待队列中，否则可以继续执行
	V:取信号灯值加1，若相加结果大于零，进程继续执行，否则，要帮助唤醒在信号灯等待队列上的一个进程。

**8. 临界资源、临界区、互斥的定义 **

	临界资源:一次仅允许一个进程使用的资源称为临界资源。
	临界区:临界区是进程中对公共变量 (或存储区)进行审查与修改的**程序段**，称为相对于该公共变量的临界区。
	互斥:当某一进程正在访问某一存储区域时，就不允许其他进程来读出或者修改存储区的内容
**9. 用信号灯的P、V操作实现进程互斥**

	mutex:1-没有进程进入临界区.2-有一个进程进入临界区.3-有一个进入,一个在等待
**10. 进程同步的定义**

	并发进程在一些关键点上可能需要互相等待与互通消息.
**11. 合作进程的执行次序**
<img src="/Users/alexfan/Library/Application Support/typora-user-images/image-20200103000919046.png" alt="image-20200103000919046" style="zoom:25%;" />
**12. 共享缓冲区的合作进程的同步**

	cp: M 产生数据 p(b) 放数据入buf v(a).
	iop: p(a) 从buf取数据 v(b) 打印
**13. 生产者-消费者问题的解答**

	sb为空缓冲区数目,初值为n,sa为buf中信息数目,初值为0,mutex = 1;
	生产者: 生产一个;p(sb);p(mutex); 将数据放入有界缓冲区;v(mutex); v(sa);
	消费者:p(sa);p(mutex); 从有界缓冲区中取数据;v(mutex); v(sb);消费一个产品;
**14. 进程通信**

	进程之间直接以较高的效率传递较多数据的信息交互方式。消息从一个进程的地址空间拷贝到另外一个进程的地址空间的过程,而且不使用共享缓冲区.
	消息缓冲通信.
	信箱通信.
**15. 线程的概念**

	线程是比进程更小的活动单位，它是进程中的一个执行路径。私用的堆栈和处理机执行环境,共享父进程主存. pid = fork()
**16. 进程调度算法及进程状态变迁**

	进程优先数调度算法:预先确定各进程的优先数，系统把处理机的使用权赋予就 绪队列中具备最高优先权 (优先数和一定的优先级相对应) 的就绪进程。(静态优先数、动态优先数)
	循环轮转调度算法:当CPU空闲时，选取就绪队列首元素，赋予一个时间片，当 时间片用完时，该进程转为就绪态并进入就绪队列末端。(可变时间片轮转调度、多重时间片循环调度)
<img src="/Users/alexfan/Library/Application Support/typora-user-images/image-20200103002629319.png" alt="image-20200103002629319" style="zoom:25%;" />
**17. Linux进程、线程基本控制接口**
不考

## 第五章 资源分配与调度

**1. 资源分配机制 (资源描述器 、资源信息块 )**

	资源描述器定义:描述各类资源的最小分配单位的数据结构.包括资源名、资源类型、最小分配单位的大 小、地址、分配标志、描述器链接信息、存取权限、密级、存取时间
	资源信息块:描述某类资源的请求者、可用资源和该类资源分配程序等必要信息的数据结构。
	针对设备特性的调度策略:(磁盘访问)移臂调度-总是选取与当前移动臂前进方向上最近的那个I/O请求， 使移臂距离最短。 - 旋转调度:总是选取与当前读写头最近的那个I/O请求，使旋转圈数最少。
**2. 常用的资源分配策略 （先请求先服务,优先调度）**

	先请求先服务:每一个新产生的请求均排在队尾;当资源可用时，取队首元素，并满足其需要。
	优先调度:对每一个进程指定一个优先级，优先级反映了进程要求处理的紧迫程度;每一个新产生的请求,按其优先级的高低插到相应的位置;当资源可用时，取队首元素，并满足其需要。
**3. 死锁的定义及举例 **

	在两个或多个并发进程中，如果每个进程持有某种资源而 又都等待着别的进程释放它或它们现在保持着的资源，否则就不能向前推进.
	举例:时刻t1:进程p1占用打印机,进程p2占用输入机; 时刻t2:进程 p1又请求输入机,进程 p2 又请求打印机。
**4. 引起死锁的原因——系统资源不足，进程推进顺序非法**
**5. 产生死锁的必要条件（互斥条件，不剥夺条件，部分分配，环路条件）**

	互斥条件:涉及的资源是非共享的，即为临界资源。
	不剥夺条件:进程所获得的资源在未使用完毕之前，不能被其他进程强行夺走。
	部分分配:进程每次申请它所需要的一部分资源。在等待一新资源的同时，进程继续占用已分配到的资源。
	环路条件:存在一种进程的循环链，链中的每一个进程已获得的资 源同时被链中下一个进程所请求。
**6. 死锁的处理（破坏某个必要条件）**

	预防(静态资源分配):调度时为作业分配所需资源，当资源一旦分配给该作业后，在其整个运行期间这些资源为它独占。
	避免与检测(有序资源分配):系统中所有资源都给定一个唯一的编号，所有分配请求必须以上升的次序进行。当遵守上升次序的规则时，若资源可用，则予以分配;否则，请求者等待
	有序资源分配法:系统中所有资源都给定一个唯一的编号，所有分配请求必须以上升的次序进行。当遵守上升次序的规则时，若资源可用，则予以分配;否则，请求者等待。
	银行家算法:申请者事先说明对各类资源的最大需求量。在进程活动期间动态申请某类资源时，由系统审查现有该类资源的数目是否能满足当前进程的最大需求量，如能满足就予以分配,否则拒绝。

## 第六章 处理机调度

**1 处理机的两级调度**

	2层:作业——选择作业进入主存、进程——选择获得CPU的进程
**2 作业调度、作业调度算法的衡量方法**

	后备->就绪、执行、运行->完成
	作业控制块JCB,用于存放作业控制和管理信息的数据结构
	衡量方法:周转时间、带权周转时间、平均带权周转时间
**3 进程调度、调度与分派的区别和联系**

	进程调度功能:记录和保持系统中所有进程的有关情况和状态特征、决定分配处理机的策略.
	调度:组织和维护就绪进程队列。包括确定调度算法、按调度算法组织和维护就绪进程队列。
	分派:是指当处理机空闲时，从就绪队列队首中移一个PCB，并将该进程投入运行.
**4 剥夺与非剥夺调度方式**

	非剥夺:进程开始执行后,若更紧迫的进程来到,必须该进程执行结束或者时间片到,才能让更紧迫的执行.
**5 进程优先数调度算法**

	静态优先数、动态进程优先数.
**6 循环轮转调度算法**

	新到达的进程放在放弃CPU进程的前面进入就绪队列. a ba acb cbda bdaec
**7 多级反馈调度算法**

	序号小的、优先级高、分到的时间片短.序号越大、优先级越低、分到的时间片越长.
## 第七章 主存管理

**1. 逻辑地址、程序（逻辑）地址空间、物理地址、主存（物理地址）空间**

	主存空间:物理地址的集合所对应的空间组成了主存空间.
**2. 地址映射的概念及类型 **

	地址映射:将程序地址空间中使用的逻辑地址变换成主存中的物理地址的过程.
	类型:静态(程序装入过程中)、动态(程序执行期间)
**3. 静态重定位的概念 **

	在程序装入过程中进行地址映射、需软件 (重定位装入程序)、需花费较多CPU时间、不灵活
**4. 动态重定位的概念及实现 **

	在程序执行期间进行地址映射、需硬件地址变换机构(重定位寄存器)、地址变换快、灵活
**5. 虚拟存储器的实现原理 **

	由操作系统和硬件相配合来完成主存和辅存之间的信息的动态调度。
**6. 界地址保护方法（上、下界保护，基址、限长保护**

	上下界保护:下界寄存器、上届寄存器
	基址+限长保护
**7.  动态分区存储管理的思想 **

	在处理程序的过程中，建立分区，依用户请求的大小分配分区。
	主存资源信息块 (M_RIB):等待队列头指针+空闲区队列头指针+主存分配程序入口地址
	分区描述器 (PD):分配标志flag+大小size+勾链字next
**8. 自由主存（空闲区）队列结构**
<img src="/Users/alexfan/Library/Application Support/typora-user-images/image-20200105140028741.png" alt="image-20200105140028741" style="zoom:25%;" />

**9.回收分区的四种情况**

	一.空闲区与要求的大小相等，将该空闲区分配并从队列中摘除;
	二.空闲区大于所要求的的大小，将空闲区分为两部分:一 部分成为已分配区，建立已分配区的描述器;剩下部分 仍为空闲区。返回所分配区域的首址;
**10. 首次适应算法的定义及特点**

	首次适应算法是将输入的程序放置到主存里 第一个 足够装入它的地址最低的空闲区中.
	空闲区地址由低到高排序,尽可能利用存储器中低地址的空闲区,而尽量保存高地址的空闲区.
**11. 最佳（坏）适应算法的定义及特点**

	将输入的程序放置到主存中与它所需大小最(不)接近的空闲区中.尽可能利用小(大)的空闲区.
**12. 针对作业请求序列放置策略的讨论 **
<img src="/Users/alexfan/Library/Application Support/typora-user-images/image-20200105142734071.png" alt="image-20200105142734071" style="zoom:30%;" />
**13. 动态分区管理的碎片问题**

	所谓拼接技术是指移动 存储器中某些已分配区中的信息，使本来分散的空闲区连成一个空闲区。
**14. 页式存储管理的基本思想 **

	为了解决碎片问题,避开程序对连续性的要求,让程序的地址空间去适应存储器的现状
**15. 页面、内存块、页表的概念**

	页面:程序的地址空间被等分成大小相等的片,也称为虚页.
	主存块:主存被分成的大小相等的片.
	页表:为实现从地址空间到物理主存的映象，系统建立的记录页与内存块间对应关系的地址变换的机构称为页面映像表.
**16. 页式地址变换过程**

	i CPU给出操作数地址 (为2500) ;ii 由分页机构自动地把逻辑地址分为两部分，得到页号和页内相对位移w (p =2， w =452);iii 根据页表始址寄存器指示的页表始地址，以页号为索引，找到第2页所对应的块号 (为7) ;iv 将块号b和页内位移量w拼接在一起，就形成了访问主存的物理地址 (71024+452=7620)
**17. 为实现请调策略，如何扩充页表功能**

	简单页式系统:装入一个程序的全部页面才能投入运行
	请求页式系统:装入一个程序的部分页面即可投入运行,为了实现这个系统,需要扩充页表功能,页号+主存块号+中断位(为0则表示在主存)+辅存地址
**18. 为实现淘汰策略，如何扩充页表功能**

	页号+主存块号+中断位+辅存地址+引用位(该页最近是否被访问)+改变位(该页是否被修改)
**19. 置换算法及抖动现象**

	导致系统效率急剧下降的主存和辅存之间的 频繁页面置换现像称为“抖动”。
**20. 最佳置换算法、先进先出算法、LRU算法、LRU近似算法**

	最佳置换算法(OPT):当要调入一新页而必须先淘汰一旧页时，所淘汰的那一页 应是以后不再要用的，或者是在最长的时间以后才会用到的那页。
	先进先出(FIFO):总是选择在主存中居留时间最长 (即最早进入主存)的一页淘汰。(建立次序表)
	LRU算法:总是选择最长时间未被使用的那一页淘汰。
**21. 段式与段页式系统及其地址结构**

	段式地址结构:段号s+段内位移w.寻址时用段号查段表,基址+段内位移即为主存地址
	分段:信息的逻辑划分+段长是可变的+用户可见+w字段的溢出将 产生越界中断
	页面:信息的物理划分+页的大小是固定的+用户不可见+w字段的溢出自动加入到页号中
	段页式:段表 = 页表长度+页表始址; 页表 例:0段页表 = 页号+其他+块号

## 第八章 I/O管理

**1. 设备独立性的定义及优点**

	设备独立性:用户在程序中使用的设备与实际使用的设备无关，也就是在用户程序中仅使用逻辑设备名
	优点:方便用户,改善设备利用率,提高系统的可扩展性和可适应性.
**2. 设备控制块的定义**

	PCB: 系统为每一台设备都配置了一个用来记录设备的硬件特性、连接和使用情况的一组数据
	PCB = 设备名+设备属性+命令转换表
**3. 什么是缓冲技术**

	缓冲是两种不同速度的设备之间传输信息时平滑传输过程的常用手段。可以用缓冲器或者软件缓冲.
**4. 常用的缓冲技术（双缓冲、环形缓冲、缓冲池）**

	双缓冲:在双缓冲方案下，为输入或输出分配两个缓冲区。先填满一个buf给进程使用,然后再去填满另一个.
**5. Unix缓冲技术**
	1.预先缓存:当进程要写数据到磁盘时,先写入高速缓冲中; 2.延迟发送
	2.缓冲区的组成 = 缓存数组(含有磁盘上的数据的存储器数组)+缓存首部(描述缓冲区特性的数据结构)
	设备缓冲区队列:b链; 空闲缓冲区队列:av链
	使用了精确的LRU算法.
**6. 虚拟设备、Spooling系统**

	独享分配:在一个作业执行前，将它所要使用的设备分配给它；当它结束撤离时，将分配给它的这类设备收回.
	共享分配:由多个作业、进程共同使用的设备称为共享设备。
	虚拟分配:将独占设备转换为共享的技术.
	虚拟设备:通常把用来代替独占型设备的那部分外存空间 (包括有关的控制表格)称为虚拟设备。
	Spooling:利用通道和中断技术，在主机控制之下，由通道完成输入输出工作。系统提供一个软件系统 (包括预输入程序、缓输出程序、井管理程序、预输入表、缓输出表)。它提供输入收存和输出发送的功能，使外部设备可以并行操作。优点:提供虚拟设备、外围设备同时联机操作、加快作业处理速度   

**7. I/O控制功能**

	I/O控制方式:循环测试I/O方式;I/O中断方式;通道方式;DMA方式
	I/O控制的功能:解释用户的I/O系统调用+设备驱动+中断处理
## 第九章 文件系统

**1. 文件概念**

	文件是在逻辑上具有完整意义的信息集合，它有一个名字以供标识，文件名是以字母开头的字母数字串.
	文件 = 信息项 + 记录
**2. 文件系统主要功能（按名存取）**

	文件系统是操作系统中负责管理和存取文件信息的软件机构。组成:管理文件所需的数据结果+管理程序+一组操作.
	功能:从用户角度看实现了按名存取的功能,从系统角度看实现了辅存空间管理+构造文件结构|提供文件共享功能+提供存取文件的方法+文件保护+提供一组文件操作命令.
**3. 文件的逻辑结构: 流式文件  记录式文件**

	流式文件是相关的有序字符的集合,是无结构的.按信息的个数或以特殊字符为界进行存取的.
	记录式文件是一种有结构的文件。这种文件在逻辑上总是 被看成一组连续顺序的记录的集合。
**4. 文件存取方法: 顺序存取+随机存取**

	顺序存取:后一次存取总是在前一次存取的基础上进行的。 顺序存取时不必给出具体的存取位置。
	随机存取:用户以任意次序请求某个记录。 随机存取时要指出起始存取位置 (例如记录号)。
**5. 文件的物理结构**

	常用的文件物理结构:连续文件、串联文件、索引结构
**6. 连续文件、串联文件、FAT文件、索引文件的定义、结构图及特点**

	连续文件结构是由一组分配在磁盘连续区域的物理块组成的。
	串联文件结构是按顺序由串联的块组成的，即文件的信 息存于若干块物理块中，每个物理块的最末一个字作为链接字,它指出后继块的物理地址。文件的最后一块的链接字为结束标记“”，它表示文件至本块结束。
	索引文件结构是为每个文件建立逻辑块号与物理块号的对照表。这张表称为该文件的索引表。文件由数据文件和索引表构成。这种文件称为索引文件。
	FAT文件:
**7. 文件存储空间（磁盘）管理**
**8. 文件目录项及目录文件**

	文件目录是记录文件的名字、存放地址及其他有关文件的说明信息和控制信息的数据结构。
	文件目录项 = 文件名+文件逻辑结构+文件物理结构+存取控制信息+管理信息+文件类型
**9. 一级文件目录的定义、结构图及特点**

	文件名+物理地址+其他信息;多用户环境下容易出现重名问题
**10. 树型文件目录的形成、结构图及特点**

	在多级目录系统中 (除最末一级外)，任何一级目录的目录项可以描述一个目录文件，也可以描述一个非目录文件 (数据文件)，而数据文件一定在树叶上。这样，就构成了一个树形层次结构。
**11. 文件共享的定义**

	文件共享是指某一个或某一部分文件可以让事先规定的某些用户共同使用。
**12. 建立“当前目录”实现文件共享**

	当前目录是当前用户正在使用的文件所在的目录。当指定当前目录后，用户对文件的所有访问都是相对于“当前目录”进行的.这时文件路径名是由“当前目录”到信息文件的通路上所有各级目录的符号名加上该信息文件的符号名组成.
**13. 采用“链接技术”实现文件共享**

	硬链接:共用目标文件的node,只删除源文件时,硬链接不会失效.文件依然存在.
	软链接:也称符号链接,链接时创建了新的node号,但是源文件删除后,该链接也失效.
**14. 文件安全的概念、存取控制**

	文件的保护是指文件本身不得被未经文件主授权的任何用户存取，而对于授权用户也只能在允许的存取权限内使用文件。
	验证用户存取权限的方法:访问控制矩阵+存取控制表+用户权限表+口令+密码
**15. 常用的文件操作命令（FCB)**

	create 创建一个新文件;delete 从系统目录中撤消一个文件;rename 在系统目录中改变文件的名字;open 打开文件在用户和文件(或设备)之间建立一个逻辑通路;close 关闭文件在用户和文件(或设备)之间撤消一个逻辑通路;write 写到一个文件(或设备)上;read 从一个文件(或设备)读入数据信息
	打开文件:把该文件的有关目录表目复制到主存中约定的区域，建立文件控制块，建立用户和这个文件的联系。
	关闭文件:用户宣布这个文件当前不再使用时,系统将其在主存中的文件控制块删去，因而也就切断了用户同这个文件的联系。
	文件备份:在软、硬件失效的意外情况下恢复文件，保证文件的完整性、数据的连续可利用性，文件系统提供适当的机构,以便复制备份。(周期性转储、增量性转储)
**16. Unix文件系统实现技术（目录结构、多级索引、文件链接、文件打开、成组链接法)**

	书P286

